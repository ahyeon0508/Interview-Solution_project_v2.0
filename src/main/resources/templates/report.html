<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org" lang="ko">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <div th:replace="template.html :: fragment-header(title='면접 리포트')"></div>
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.4.1/jquery.min.js"></script>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.0.0-beta1/dist/css/bootstrap.min.css" rel="stylesheet"
    integrity="sha384-giJF6kkoqNQ00vy+HMDP7azOuL0xtbfIcaT9wjKHr8RbDVddVHyTfAAsrekwKmP1" crossorigin="anonymous">
    <link th:href="@{/css/report.css}" rel="stylesheet" />
    <script type="text/javascript" th:src="@{/js/check.js}"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/Chart.js/2.4.0/Chart.min.js"></script>

</head>

<body>
    <div th:replace="template.html :: fragment-stunav"></div>

    <div class="report-page">
        <button type="button" id="delete" class="btn btn-outline-secondary" th:onclick="DeleteConfirm([[${report.id}]])">삭제</button>
        <h1>내 면접 리포트</h1>
        <!-- 첫 번째 질문 -->
        <div class="form1">
            <div class="content">
                <p class="question" th:text="${report.question1}"></p>
                <video id="videoElement1" controls width='70%' >
                    <source th:src="@{/video/} + ${report.video1}" type="video/mp4"  />
                    현재 브라우저는 비디오를 지원하지 않습니다.
                </video>
                <!-- 대본 -->
                <div class="stt">
                    <p><답변 내용> <br></p>
                    <p id="script1" th:text="${report.script1}"></p>
                </div>
                <!-- 말하기 속도 -->
                <div class="talk_speed">
                    <p class="speed">* 분당 말하기 속도가 계산되어 제공됩니다. <br>
                        270 ~ 330자를 말하면 적당한 속도입니다 *</p>
                    <span>현재 분당 말하기 속도 : </span>
                    <p th:text="${report.speed1}"></p>
                    <p class="speed_result" th:text="${report.sCorrect1}"></p>
                </div>
                <div class="info_stt">
                    <p id="info_rep1" th:text="${report.repetition1}"></p>
                    <p id="info_adverb1" th:text="${report.adverb1}"></p>
                    <p id="info_eye_tracking1" th:text="${report.eyeTrack1}"></p>
                </div>
                <!-- 차트 -->
                <div class="chart">
                    <div class="repetition">
                        <canvas id="repetition1"></canvas>
                    </div>
                    <div class="adverb">
                        <canvas id="adverb1"></canvas>
                    </div>
                </div>
                <!-- 시선추적 및 표정분석 -->
                <div class="face">
                    <div class="eye_tracking">
                        <!-- 시선추적 결과 이미지 -->
                        <p><시선추적 결과></p>
                        <canvas id="eye_tracking_img_1"></canvas>
                    </div>
                    <div class="emotion">
                        <p><표정인식 결과></p>
                        <p id="info_emotion1" th:text="${report.emotion1}"></p>
                        <img id="emotion_img" th:src="">
                            <script>document.getElementById('emotion_img').src=emotion_img_info()</script>
                        <p id="emotion_result1"></p>
                    </div>
                </div>
                <!-- 피드백 -->
                <th:block th:if="${report.comment1}">
                    <p class="comment" th:text="${report.comment1}"></p>
                </th:block>
                <th:block th:unless="${report.comment1}">
                </th:block>
            </div>
        </div>
        <script th:src="@{/js/report.js}"></script>
    
        <!-- 두 번째 질문 -->
        <div class="form2">
            <div class="content">
                <p class="question" th:text="${report.question2}"></p>
                <video id="videoElement2" controls width='70%'>
                    <source th:src="@{/video/} + ${report.video2}" type="video/mp4" />
                    현재 브라우저는 비디오를 지원하지 않습니다.
                </video>
                <!-- 대본 -->
                <div class="stt">
                    <p><답변 내용> <br></p>
                    <p id="script2" th:text="${report.script2}"></p>
                </div>
                <!-- 말하기 속도 -->
                <div class="talk_speed">
                    <p class="speed">* 분당 말하기 속도가 계산되어 제공됩니다. <br>
                        270 ~ 330자를 말하면 적당한 속도입니다 *</p>
                    <span>현재 분당 말하기 속도 : </span>
                    <p th:text="${report.speed2}"></p>
                    <p class="speed_result" th:text="${report.sCorrect2}"></p>
                </div>
                <div class="info_stt">
                    <p id="info_rep2" th:text="${report.repetition2}"></p>
                    <p id="info_adverb2" th:text="${report.adverb2}"></p>
                    <p id="info_eye_tracking2" th:text="${report.eyeTrack2}"></p>
                </div>
                <!-- 차트 -->
                <div class="chart">
                    <div class="repetition">
                        <canvas id="repetition2"></canvas>
                    </div>
                    <div class="adverb">
                        <canvas id="adverb2"></canvas>
                    </div>
                </div>
                <!-- 시선추적 및 표정분석 -->
                <div class="face">
                    <div class="eye_tracking">
                        <!-- 시선추적 결과 이미지 -->
                        <p><시선추적 결과></p>
                        <canvas id="eye_tracking_img_2"></canvas>
                    </div>
                    <div class="emotion">
                        <p><표정인식 결과></p>
                        <img class="emotion_img" th:src="@{/img/세팅화면.png}">
                        <span class="emotion_result">행복 : 80%</p>
                    </div>
                </div>
                <!-- 피드백 -->
                <th:block th:if="${report.comment2}">
                    <p class="comment" th:text="${report.comment2}"></p>
                </th:block>
                <th:block th:unless="${report.comment2}">
                </th:block>
            </div>
        </div>
        <script th:src="@{/js/report.js}"></script>

        <!-- 세 번째 질문 -->
        <div class="form3">
            <div class="content">
                <p class="question" th:text="${report.question3}"></p>
                <video id="videoElement3" controls width='70%'>
                    <source th:src="@{/video/} + ${report.video3}" type="video/mp4" />
                    현재 브라우저는 비디오를 지원하지 않습니다.
                </video>
                <!-- 대본 -->
                <div class="stt">
                    <p><답변 내용> <br></p>
                    <p id="script3" th:text="${report.script3}"></p>
                </div>
                <!-- 말하기 속도 -->
                <div class="talk_speed">
                    <p class="speed">* 분당 말하기 속도가 계산되어 제공됩니다. <br>
                        270 ~ 330자를 말하면 적당한 속도입니다 *</p>
                    <span>현재 분당 말하기 속도 : </span>
                    <p th:text="${report.speed3}"></p>
                    <p class="speed_result" th:text="${report.sCorrect3}"></p>
                </div>
                <div class="info_stt">
                    <p id="info_rep3" th:text="${report.repetition3}"></p>
                    <p id="info_adverb3" th:text="${report.adverb3}"></p>
                    <p id="info_eye_tracking3" th:text="${report.eyeTrack3}"></p>
                </div>
                <!-- 차트 -->
                <div class="chart">
                    <div class="repetition">
                        <canvas id="repetition3"></canvas>
                    </div>
                    <div class="adverb">
                        <canvas id="adverb3"></canvas>
                    </div>
                </div>
                <!-- 시선추적 및 표정분석 -->
                <div class="face">
                    <div class="eye_tracking">
                        <!-- 시선추적 결과 이미지 -->
                        <p><시선추적 결과></p>
                        <canvas id="eye_tracking_img_3"></canvas>
                    </div>
                    <div class="emotion">
                        <p><표정인식 결과></p>
                        <img class="emotion_img" th:src="@{/img/세팅화면.png}">
                        <span class="emotion_result">행복 : 80%</p>
                    </div>
                </div>
                <!-- 피드백 -->
                <th:block th:if="${report.comment3}">
                    <p class="comment" th:text="${report.comment3}"></p>
                </th:block>
                <th:block th:unless="${report.comment3}">
                </th:block>
            </div>
        </div>
        <script th:src="@{/js/report.js}"></script>

    </div>
    
    <footer th:replace="template.html :: fragment-footer"></footer>
</body>

</html>